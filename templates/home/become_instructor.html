{% extends 'home/tes.html' %}
{% load static %}

{% block content %}

<section class="bg-white shadow-md rounded-xl p-6 md:p-8 mt-6 mx-2 md:mx-0">

  <h2 class="text-2xl font-semibold mb-6">Application Form</h2>

  <form method="POST" enctype="multipart/form-data" novalidate class="space-y-8">
    {% csrf_token %}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- BIO -->
      <div>
        <label class="block font-medium mb-1">{{ form.bio.label }}</label>
        {{ form.bio }}
        {% if form.bio.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.bio.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- EXPERTISE (CKEDITOR) -->
      <div class="md:col-span-2">
        <label class="block font-medium mb-1">{{ form.expertise.label }}</label>
        {{ form.expertise }}
        {% if form.expertise.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.expertise.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- YEARS OF EXPERIENCE -->
      <div>
        <label class="block font-medium mb-1">{{ form.experience_years.label }}</label>
        {{ form.experience_years }}
        {% if form.experience_years.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.experience_years.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- PROVIDER (SELECT2) -->
      <div>
        <label class="block font-medium mb-1">{{ form.provider.label }}</label>
        {{ form.provider }}
        {% if form.provider.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.provider.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- TECH URL -->
      <div>
        <label class="block font-medium mb-1">{{ form.tech.label }}</label>
        {{ form.tech }}
        {% if form.tech.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.tech.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- AGREEMENT CHECKBOX -->
      <div class="flex items-center gap-3 mt-6 md:col-span-2">
        {{ form.agreement }}
        <label class="font-medium">{{ form.agreement.label }}</label>
      </div>
      {% if form.agreement.errors %}
      <p class="text-red-600 text-sm mt-1 md:col-span-2">{{ form.agreement.errors.0 }}</p>
      {% endif %}

    </div>

    <!-- SUBMIT BUTTON -->
    <div class="flex justify-center">
      <button
        type="submit"
        class="w-48 md:w-60 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition">
        Submit Application
      </button>
    </div>

  </form>

</section>


<!-- FULL TAILWIND Select2 Styles -->
<style>
  /* container */
  .select2-container--bootstrap-5 .select2-selection {
    @apply border border-gray-300 rounded-lg px-3 py-2 text-gray-700 h-auto;
  }

  /* text */
  .select2-container--bootstrap-5 .select2-selection__rendered {
    @apply leading-normal;
  }

  /* arrow */
  .select2-container--bootstrap-5 .select2-selection__arrow {
    top: 50% !important;
    transform: translateY(-50%) !important;
  }

  /* dropdown list */
  .select2-results__option {
    @apply px-4 py-2 text-gray-700 hover:bg-gray-100 cursor-pointer;
  }

  /* selected */
  .select2-results__option--selected {
    @apply bg-blue-100 text-blue-700;
  }

  /* highlighted */
  .select2-results__option--highlighted {
    @apply bg-gray-200;
  }
</style>


<!-- Init Select2 -->
<script>
  $(document).ready(function () {
    $('.django-autocomplete-light-widget select').select2({
      theme: 'bootstrap-5',
      width: '100%',
      placeholder: 'Type to search...',
    });
  });
</script>

{% endblock %}
