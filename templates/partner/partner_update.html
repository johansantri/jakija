{% extends 'home/tes.html' %}
{% block content %}

<section class="max-w-5xl mx-auto bg-white border border-gray-200 p-6 md:p-8 rounded-xl shadow-sm hover:shadow-md transition">
    <h3 class="text-2xl font-bold text-gray-800 mb-8 flex items-center gap-3">
        <i class="fas fa-edit text-red-500"></i>
        Update Partner
    </h3>

    <form method="POST" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}

        <!-- Informasi Bank -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label for="{{ form.account_number.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    Nomor Rekening
                </label>
                {{ form.account_number }}
                {% if form.account_number.errors %}
                    <p class="mt-1 text-sm text-red-600">{{ form.account_number.errors|join:", " }}</p>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.account_holder_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    Nama Pemilik Rekening
                </label>
                {{ form.account_holder_name }}
                {% if form.account_holder_name.errors %}
                    <p class="mt-1 text-sm text-red-600">{{ form.account_holder_name.errors|join:", " }}</p>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.bank_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Nama Bank</label>
                {{ form.bank_name }}
            </div>

            <div>
                <label for="{{ form.payment_method.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Metode Pembayaran</label>
                {{ form.payment_method }}
            </div>
        </div>

        <!-- Kontak & NPWP -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label for="{{ form.phone.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    No. Telepon (+628...)
                </label>
                {{ form.phone }}
                {% if form.phone.errors %}<p class="mt-1 text-sm text-red-600">{{ form.phone.errors|join:", " }}</p>{% endif %}
            </div>

            <div>
                <label for="{{ form.npwp.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">NPWP</label>
                {{ form.npwp }}
                {% if form.npwp.errors %}<p class="mt-1 text-sm text-red-600">{{ form.npwp.errors|join:", " }}</p>{% endif %}
            </div>

            <div class="md:col-span-2">
                <div class="flex items-center gap-4">
                    {{ form.is_pkp }}
                    <label for="{{ form.is_pkp.id_for_label }}" class="text-gray-700 font-medium cursor-pointer select-none">
                        Saya adalah Pengusaha Kena Pajak (PKP)
                    </label>
                </div>
            </div>

            <div class="md:col-span-2">
                <label for="{{ form.npwp_file.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    Upload NPWP (PDF/JPG/PNG â€“ maks 2MB)
                </label>
                {{ form.npwp_file }}
                {% if form.instance.npwp_file %}
                    <p class="mt-2 text-xs text-gray-600">
                        File saat ini: <a href="{{ form.instance.npwp_file.url }}" target="_blank" class="text-red-600 underline">Lihat</a>
                    </p>
                {% endif %}
                {% if form.npwp_file.errors %}<p class="mt-1 text-sm text-red-600">{{ form.npwp_file.errors|join:", " }}</p>{% endif %}
            </div>
        </div>

        <!-- Logo & Alamat -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label for="{{ form.logo.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Logo Partner</label>
                {{ form.logo }}
                {% if form.instance.logo %}
                    <div class="mt-3">
                        <img src="{{ form.instance.logo.url }}" alt="Logo" class="h-28 rounded-lg border shadow">
                    </div>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.address.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap</label>
                {{ form.address }}
            </div>
        </div>

        <!-- Deskripsi -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi Partner</label>
            <div class="border border-gray-300 rounded-lg overflow-hidden">
                {{ form.description }}
            </div>
            {% if form.description.errors %}<p class="mt-1 text-sm text-red-600">{{ form.description.errors|join:", " }}</p>{% endif %}
        </div>

        <!-- Media Sosial -->
        <div>
            <h4 class="text-lg font-semibold text-gray-800 mb-5">Media Sosial (opsional)</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="{{ form.tiktok.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">TikTok</label>
                    {{ form.tiktok }}
                </div>
                <div>
                    <label for="{{ form.youtube.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">YouTube</label>
                    {{ form.youtube }}
                </div>
                <div>
                    <label for="{{ form.twitter.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Twitter / X</label>
                    {{ form.twitter }}
                </div>
                <div>
                    <label for="{{ form.facebook.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Facebook</label>
                    {{ form.facebook }}
                </div>
            </div>
        </div>

        <!-- Tombol -->
        <div class="flex flex-col sm:flex-row gap-4 pt-8 border-t border-gray-200">
            <button type="submit" class="flex items-center justify-center gap-2 px-8 py-3 bg-red-500 text-white font-medium rounded-lg hover:bg-red-600 transition">
                <i class="fas fa-save"></i> Simpan Perubahan
            </button>
            <a href="{% url 'courses:partner_view' %}" class="flex items-center justify-center gap-2 px-8 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition">
                <i class="fas fa-times"></i> Batal
            </a>
        </div>
    </form>
</section>

{% endblock %}